{"version":3,"sources":["logo.svg","my/apisrv.js","my/Nav.js","my/Accs.js","App.js","reportWebVitals.js","index.js"],"names":["APISRVURL","APIGET","path","fetch","a","response","status","json","result","message","document","getElementById","checked","data","MyNavbar","dapp","Installed_Msg","isBrowserExtensionInstalled","Enabled_msg","isBrowserExtensionEnabled","Navbar","collapseOnSelect","expand","bg","variant","Container","fluid","Brand","href","Toggle","Collapse","id","Nav","className","Link","target","onClick","window","refreshLunaSessions","Form","Check","type","label","AutoClaim","as","enableBrowserExtension","disabled","eventKey","showWalletInfo","index","waddr","mark","_waddr","substr","OverlayTrigger","rootClose","trigger","placement","overlay","Popover","Header","Body","InputGroup","FormControl","placeholder","Button","ChangeMark","value","length","showdHeroInfos","count","key","ShowHero","addr","currentAccount","address","toLowerCase","console","log","code","browserExtension","ethereum","request","method","params","sig","Sessions","isLogin","isRun","setSessions","encodeURIComponent","LunaSessions","Mark","setLunaSessions","showAction","islogin","ButtonGroup","size","StopScript","StartScript","_disabled","SignLogin","MyAccs","React","useState","Table","striped","bordered","responsive","map","WalletAddress","Session","HeroInfos","Balance","toFixed","CurrentBossLevel","LastLog","App","useMemo","BscDapp","setEnabled","currentAddress","setAccount","useEffect","onEnabled","account","onAccountChanged","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","apiurl","URLSearchParams","location","search","get","setTimeout","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.93c3fbfa.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","var APISRVURL = \"http://localhost:6324d/00b6325388655acd841aa94a8121142f\"\r\n\r\nfunction APIGET(path) {\r\n    return fetch(APISRVURL + path)\r\n}\r\n\r\nfunction SetAPISRVURL(url) {\r\n    APISRVURL = url\r\n}\r\n\r\n\r\nexport {APIGET,SetAPISRVURL};\r\n","import { Navbar,Nav,Button,Container,Form,FormControl} from 'react-bootstrap';\r\nimport React from \"react\";\r\nimport {APIGET} from \"./apisrv\";\r\n\r\nasync function AutoClaim() {\r\n    let response  = await APIGET(\"/action?action=AutoClaim\")\r\n    if (response.status==200) {\r\n        let result = await response.json()\r\n        if (result.message==\"AutoClaim\") {\r\n            if (document.getElementById(\"AutoClaim\")){\r\n                document.getElementById(\"AutoClaim\").checked = result.data\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction MyNavbar(dapp) {\r\n    let Installed_Msg = dapp.isBrowserExtensionInstalled ? \"已安装钱包\":\"未安装钱包\"\r\n    let Enabled_msg = dapp.isBrowserExtensionEnabled ? \"已连接\":\"激活钱包\"\r\n    return <Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n        <Container fluid>\r\n            <Navbar.Brand href=\"#home\">飞船-远程托管</Navbar.Brand>\r\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n            <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n                <Nav className=\"me-auto\">\r\n                    <Nav.Link href=\"https://www.spacecrypto.io/\" target=\"_blank\">飞船官网</Nav.Link>\r\n                    <Nav.Link href=\"https://play.spacecrypto.io/\" target=\"_blank\">开始游戏</Nav.Link>\r\n                    <Nav.Link href=\"https://poocoin.app/tokens/0x0ecaf010fc192e2d5cbeb4dfb1fee20fbd733aa1\" target=\"_blank\">SPG价格图表</Nav.Link>\r\n                    <Nav.Link href=\"https://poocoin.app/tokens/0x74da4412b2c70644929479f4d169325e9ce35ddb\" target=\"_blank\">SPE价格图表</Nav.Link>\r\n                </Nav>\r\n                <Nav>\r\n                    <Nav.Link onClick={()=>window.refreshLunaSessions()} >刷新列表</Nav.Link>\r\n                    <Nav.Link href=\"#AutoClaim\"><Form>\r\n                        <Form.Check\r\n                            type=\"switch\"\r\n                            id=\"AutoClaim\"\r\n                            label=\"自动提现\"\r\n                            onClick={()=>AutoClaim()}\r\n                        />\r\n                    </Form></Nav.Link>\r\n                    <Nav.Link as=\"p\">{Installed_Msg}</Nav.Link>\r\n                    {dapp.isBrowserExtensionInstalled &&\r\n                    <Nav.Link onClick={() => dapp.enableBrowserExtension()} disabled={dapp.isBrowserExtensionEnabled} eventKey={2} >\r\n                        {Enabled_msg}\r\n                    </Nav.Link>}\r\n\r\n                </Nav>\r\n            </Navbar.Collapse>\r\n        </Container>\r\n    </Navbar>\r\n}\r\n\r\nexport default MyNavbar;","import React from \"react\";\r\nimport { Table,Container,Button,ButtonGroup,OverlayTrigger,Popover,InputGroup, FormControl} from 'react-bootstrap';\r\nimport \"./my.css\"\r\nimport {APIGET} from \"./apisrv\";\r\nvar dateDiff = function (timestamp) {\r\n    if (timestamp==0){\r\n        return \"\"\r\n    }\r\n    // 补全为13位\r\n    var arrTimestamp = (timestamp + '').split('');\r\n    for (var start = 0; start < 13; start++) {\r\n        if (!arrTimestamp[start]) {\r\n            arrTimestamp[start] = '0';\r\n        }\r\n    }\r\n    timestamp = arrTimestamp.join('') * 1;\r\n\r\n    var minute = 1000 * 60;\r\n    var hour = minute * 60;\r\n    var day = hour * 24;\r\n    var halfamonth = day * 15;\r\n    var month = day * 30;\r\n    var now = new Date().getTime();\r\n    var diffValue = now - timestamp;\r\n\r\n    // 如果本地时间反而小于变量时间\r\n    if (diffValue < 0) {\r\n        return '不久前';\r\n    }\r\n\r\n    // 计算差异时间的量级\r\n    var monthC = diffValue / month;\r\n    var weekC = diffValue / (7 * day);\r\n    var dayC = diffValue / day;\r\n    var hourC = diffValue / hour;\r\n    var minC = diffValue / minute;\r\n\r\n    // 数值补0方法\r\n    var zero = function (value) {\r\n        if (value < 10) {\r\n            return '0' + value;\r\n        }\r\n        return value;\r\n    };\r\n\r\n    // 使用\r\n    if (monthC > 12) {\r\n        // 超过1年，直接显示年月日\r\n        return (function () {\r\n            var date = new Date(timestamp);\r\n            return date.getFullYear() + '年' + zero(date.getMonth() + 1) + '月' + zero(date.getDate()) + '日';\r\n        })();\r\n    } else if (monthC >= 1) {\r\n        return parseInt(monthC) + \"月前\";\r\n    } else if (weekC >= 1) {\r\n        return parseInt(weekC) + \"周前\";\r\n    } else if (dayC >= 1) {\r\n        return parseInt(dayC) + \"天前\";\r\n    } else if (hourC >= 1) {\r\n        return parseInt(hourC) + \"小时前\";\r\n    } else if (minC >= 1) {\r\n        return parseInt(minC) + \"分钟前\";\r\n    }\r\n    return '刚刚';\r\n};\r\n\r\n\r\nfunction showWalletInfo(index,waddr,mark) {\r\n    let _waddr = waddr.substr(0,4)+\"...\"+waddr.substr(38,4)\r\n    return <OverlayTrigger\r\n        rootClose\r\n        trigger=\"click\"\r\n        key={waddr}\r\n        placement=\"right\"\r\n        overlay={\r\n            <Popover id={`popover-positioned-${waddr}`}>\r\n                <Popover.Header as=\"h6\">{waddr}</Popover.Header>\r\n                <Popover.Body>\r\n                    <InputGroup className=\"mb-3\">\r\n                        <FormControl\r\n                            placeholder=\"修改备注\"\r\n                            aria-label=\"修改备注\"\r\n                            aria-describedby=\"basic-addon2\"\r\n                            id={`mark-`+waddr}\r\n                        />\r\n                        <Button variant=\"outline-secondary\" onClick={()=>ChangeMark(index,waddr,document.getElementById(\"mark-\"+waddr).value)}>\r\n                            修改\r\n                        </Button>\r\n                    </InputGroup>\r\n                </Popover.Body>\r\n            </Popover>\r\n        }\r\n    >\r\n        <Button variant=\"outline-secondary\">{mark.length!=0&&<h4 className=\"text-dark\">{mark}</h4>}<small>{_waddr}</small></Button>\r\n    </OverlayTrigger>\r\n}\r\n\r\nfunction showFeeInfo(fee,Last_exchange) {\r\n    if (Last_exchange==0){\r\n        if (fee==0){\r\n            return <h4>-</h4>\r\n        }\r\n        return <h4>{fee}%</h4>\r\n    }\r\n    return <Container><h4>{fee}%</h4><h6>{dateDiff(Last_exchange)}</h6></Container>\r\n}\r\n\r\nfunction showWalletBalance(Lus,Bnb) {\r\n    return <Container><h4>{Lus.toFixed(2)} lus</h4><h6>{Bnb.toFixed(2)} bnb</h6></Container>\r\n}\r\n\r\nfunction showGameBalance(Balance) {\r\n    return <Container><h4>{Balance.toFixed(2)}</h4></Container>\r\n}\r\n\r\nfunction showdHeroInfos(data) {\r\n    if (data!=null){\r\n        let count = 0\r\n        for (let key in data){\r\n            count+=data[key]\r\n        }\r\n        return <>{count}</>\r\n    }\r\n    return <>0</>\r\n}\r\nfunction ShowAllShouYiL(all_statistical,HeroInfos) {\r\n    let count = 0\r\n    if (HeroInfos!=null){\r\n        for (let key in HeroInfos){\r\n            count+=HeroInfos[key]\r\n        }\r\n    }\r\n    if (count==0){\r\n        return <>-</>\r\n    }\r\n    //{all_Mlus:0,all_MLUSTotal:0,all_LunaRushTokenBalance:0,all_BNBBalance:0,all_Day_mlus:0}\r\n    let a = (all_statistical.all_MLUSTotal-all_statistical.all_Mlus) * (1 - 0.035)\r\n    let cb =count * 15\r\n    return <>收益:{(a/cb*100-100).toFixed(2)}%</>\r\n}\r\n\r\nfunction ShowHero(data) {\r\n    if (data!=null){\r\n        return <div>\r\n            {data[\"Common\"]>0 &&  <small className=\"common\">C:{data[\"Common\"]}</small>}\r\n            {data[\"Rare\"]>0 && <small className=\"rare\">R:{data[\"Rare\"] }</small>}\r\n            {data[\"SuperRare\"]>0 && <small className=\"elite\">SR:{data[\"SuperRare\"] }</small>}\r\n            {data[\"Epic\"]>0 && <small className=\"epic\">SSR:{data[\"Epic\"] }</small>}\r\n            {data[\"Legend\"]>0 && <small className=\"legendary\">L:{data[\"Legend\"] }</small>}\r\n            {data[\"Mythical\"]>0 && <small className=\"mythical\">SL:{data[\"Mythical\"] }</small>}\r\n        </div>\r\n    }\r\n    return <>-</>\r\n}\r\n\r\nasync function  SignLogin(index,addr)  {\r\n    if (window.dapp.currentAccount.address.toLowerCase()!=addr.toLowerCase()){\r\n        console.log(\"请先切换钱包地址到\",addr)\r\n        return\r\n    }\r\n    console.log(index,addr)\r\n    let response  = await APIGET(\"/get_message?addr=\"+addr)\r\n    if (response.status==200){\r\n        let result = await response.json()\r\n        if (result.code==0 && result.message){\r\n            let sig = await window.dapp.browserExtension.ethereum.request(\r\n                { method: 'personal_sign', params: [result.message,window.dapp.currentAccount.address] })\r\n            //console.log(sig)\r\n            response  = await APIGET(\"/sign_login?addr=\"+addr+\"&sign=\"+sig)\r\n            if (response.status==200){\r\n                let result = await response.json()\r\n                if (result.code==0){\r\n                    window.Sessions[index].isLogin=true\r\n                    window.Sessions[index].isRun=true\r\n                    window.setSessions([...window.Sessions])\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\nasync function StartScript(index,addr) {\r\n    console.log(\"StartScript\",index,addr)\r\n    let response  = await APIGET(\"/action?action=start&addr=\"+addr)\r\n    if (response.status==200) {\r\n        let result = await response.json()\r\n        if (result.code==0) {\r\n            window.Sessions[index].isRun=true\r\n            window.setSessions([...window.Sessions])\r\n        }\r\n    }\r\n}\r\n\r\nasync function StopScript(index,addr) {\r\n    console.log(\"StopScript\",index,addr)\r\n    let response  = await APIGET(\"/action?action=stop&addr=\"+addr)\r\n    if (response.status==200) {\r\n        let result = await response.json()\r\n        if (result.code==0) {\r\n            window.Sessions[index].isLogin=false\r\n            window.Sessions[index].isRun = false\r\n            window.setSessions([...window.Sessions])\r\n        }\r\n    }\r\n}\r\n\r\n\r\nasync function ChangeMark(index,addr,mark) {\r\n    console.log(\"ChangeMark\",index,addr)\r\n    let response  = await APIGET(\"/action?action=mark&addr=\"+addr+\"&mark=\"+encodeURIComponent(mark))\r\n    if (response.status==200) {\r\n        let result = await response.json()\r\n        if (result.message==\"mark\") {\r\n            window.LunaSessions.LunaSessions[index].Mark = result.data\r\n            window.setLunaSessions({...window.LunaSessions})\r\n\r\n        }\r\n    }\r\n}\r\n\r\nfunction showAction(index,addr,islogin,isRun) {\r\n    if (islogin){\r\n        if (isRun){\r\n            return <ButtonGroup size=\"sm\">\r\n                {<Button variant={\"warning\"} onClick={()=>StopScript(index,addr)}>停止脚本</Button>}\r\n            </ButtonGroup>\r\n        }\r\n        return <ButtonGroup size=\"sm\">\r\n            {<Button variant={\"info\"} onClick={()=>StartScript(index,addr)}>启动脚本</Button>}\r\n        </ButtonGroup>\r\n    }\r\n    let _disabled = !window.dapp.isBrowserExtensionEnabled || (window.dapp.currentAccount && window.dapp.currentAccount.address.toLowerCase()!=addr.toLowerCase())\r\n    return <Button size=\"sm\"\r\n        onClick={()=>SignLogin(index,addr)}\r\n        disabled={_disabled}\r\n    >{_disabled?\"连接钱包\":\"授权登录\"}</Button>\r\n}\r\n\r\nfunction MyAccs() {\r\n    const [Sessions, setSessions] = React.useState([])\r\n    window.Sessions = Sessions\r\n    window.setSessions = setSessions\r\n\r\n    window.refreshLunaSessions = async function () {\r\n        let response  = await APIGET(\"/current_info\")\r\n        if (response.status==200){\r\n            let result = await response.json()\r\n            if (document.getElementById(\"AutoClaim\")){\r\n                document.getElementById(\"AutoClaim\").checked = result.AutoClaim\r\n            }\r\n            setSessions(result)\r\n            console.log(result)\r\n        }\r\n    }\r\n\r\n    return <Container fluid>\r\n        <Table striped bordered variant=\"light\" size=\"sm\" responsive=\"sm\" >\r\n            <thead>\r\n            <tr>\r\n                <th>#</th>\r\n                <th>钱包信息</th>\r\n                <th>英雄统计</th>\r\n                <th>游戏余额</th>\r\n                <th>英雄总数</th>\r\n                <th>当前关卡</th>\r\n                <th>操作</th>\r\n                <th>最后错误</th>\r\n            </tr>\r\n            </thead>\r\n            <tbody>\r\n\r\n            {Sessions && Sessions.map((data,index)=>(\r\n                <tr className=\"center_td\" key={index}>\r\n                    <td>{index+1}</td>\r\n                    <td>{showWalletInfo(index,data.WalletAddress,\"\")}</td>\r\n                    <td>{ShowHero((data.Session && data.Session.HeroInfos)||{})}</td>\r\n                    <td>{showGameBalance( (data.Session && data.Session.Balance)||0)}</td>\r\n                    <td>{showdHeroInfos((data.Session && data.Session.HeroInfos)||{})}</td>\r\n                    <td>{(data.Session && data.Session.CurrentBossLevel)||0}</td>\r\n                    <td>{showAction(index,data.WalletAddress,data.isLogin,data.isRun)}</td>\r\n                    <td>\r\n                        <p className=\"text-truncate\">{data.Session && data.Session.LastLog}</p>\r\n                    </td>\r\n\r\n                </tr>\r\n            ))}\r\n\r\n\r\n\r\n            </tbody>\r\n        </Table>\r\n    </Container>\r\n}\r\n\r\nexport default MyAccs;","import React from 'react'\nimport { Button } from 'react-bootstrap';\n\nimport BscDapp from '@obsidians/bsc-dapp'\n\nimport logo from './logo.svg';\nimport './App.css';\n\nimport abi from './coin.json'\nimport MyNavbar from './my/Nav'\nimport MyAccs from \"./my/Accs\";\n\nconst message = '0xd0625f2bd99b4a44f5f37151e1d16f142db87aaf-1645434291016'\n\nexport default function App () {\n  const dapp = React.useMemo(() => new BscDapp(), [])\n  // const dapp = React.useMemo(() => new BscDapp({ extension: 'MetaMask' }), [])\n  // const dapp = React.useMemo(() => new BscDapp({ extension: 'BinanceChainWallet' }), [])\n  window.dapp = dapp\n  const [enabled, setEnabled] = React.useState(dapp.isBrowserExtensionEnabled)\n  const [account, setAccount] = React.useState(dapp.currentAddress)\n\n  React.useEffect(() => dapp.onEnabled(account => {\n    setEnabled(true)\n    setAccount(account)\n  }), [])\n\n\n  React.useEffect(() => dapp.onAccountChanged(account => {\n    setAccount(account)\n  }), [])\n\n\n  return (\n    <div className=\"App\">\n      {MyNavbar(dapp)}\n      <header className=\"App-header\">\n        {/*<img onClick={()=>window.refreshLunaSessions()} src={logo} className=\"App-logo\" alt=\"logo\" />*/}\n        <MyAccs/>\n      </header>\n    </div>\n  );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\n// Importing the Bootstrap CSS\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {SetAPISRVURL} from \"./my/apisrv\";\n\nlet params = new URLSearchParams(document.location.search);\nlet apiurl = params.get(\"url\")\nif (apiurl && apiurl.length>0){\n    SetAPISRVURL(apiurl)\n}\n\nsetTimeout(() => {\n  ReactDOM.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n  )\n    if (window.refreshLunaSessions) {\n        window.refreshLunaSessions()\n    }\n}, 500)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}